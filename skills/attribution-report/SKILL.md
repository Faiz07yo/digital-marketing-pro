---
name: attribution-report
description: "Use when the user needs multi-touch attribution analysis — first-touch, last-touch, linear, time-decay, or position-based attribution models with revenue allocation across channels and campaigns."
---

# /dm:attribution-report

## Purpose

Generate multi-touch attribution analysis showing how different marketing channels and campaigns contribute to conversions. Compare multiple attribution models side-by-side, allocate revenue across touchpoints, and provide actionable budget reallocation recommendations based on true channel contribution. This command moves beyond simplistic last-click attribution to reveal the full customer journey — identifying which channels drive awareness, which nurture consideration, and which close conversions — so marketing budgets can be allocated based on actual contribution rather than positional bias.

## Input Required

The user must provide (or will be prompted for):

- **Attribution models to compare**: Two or more models to run side-by-side — `first-touch` (100% credit to the first interaction that initiated the journey), `last-touch` (100% credit to the final interaction before conversion), `linear` (equal credit distributed across all touchpoints), `time-decay` (exponentially more credit to touchpoints closer to conversion, with configurable half-life — default 7 days), `position-based` (40% to first touch, 40% to last touch, 20% distributed across middle interactions), or `data-driven` (algorithmic allocation based on conversion path patterns and counterfactual analysis). At least two models should be compared to reveal attribution bias
- **Conversion events to attribute**: The conversion actions to analyze — `purchases` (completed transactions with revenue), `signups` (account or trial creation), `leads` (form submissions, demo requests, contact inquiries), or `custom events` (user-defined conversion points with optional revenue values). Multiple conversion events can be analyzed simultaneously with separate attribution for each
- **Time period**: The analysis window — specific date range, relative period (last 30 days, last quarter), or year-over-year comparison. Longer periods provide more conversion paths for reliable model comparison but may include seasonal distortions
- **Conversion window**: The lookback window for attributing touchpoints to a conversion — `7 days` (short-cycle purchases, impulse buys), `14 days` (standard eCommerce), `30 days` (B2B lead gen, considered purchases), or `90 days` (enterprise B2B, high-value purchases with long sales cycles). Touchpoints outside the conversion window are excluded from attribution
- **Channels to include**: Which marketing channels to attribute across — paid search, paid social, organic search, direct, email, referral, display, video, affiliate, or specific campaign groups. All channels are included by default unless the user restricts scope

## Process

1. **Load brand context**: Read `~/.claude-marketing/brands/_active-brand.json` for the active slug, then load `~/.claude-marketing/brands/{slug}/profile.json`. Apply business model context (SaaS, eCommerce, B2B) to set appropriate default conversion window and model recommendations. Check for guidelines at `~/.claude-marketing/brands/{slug}/guidelines/_manifest.json`. If no brand exists, ask: "Set up a brand first (/dm:brand-setup)?" — or proceed with defaults.
2. **Gather conversion path data from analytics MCPs**: Pull multi-touch journey data from connected sources — Google Analytics MCP for conversion paths, multi-channel funnel reports, and assisted conversion data; Google Ads MCP for search attribution reports and cross-network attribution; Meta MCP for view-through and click-through attribution data; CRM MCP for deal stage progression with marketing touchpoint timestamps. Merge touchpoints into unified customer journeys, deduplicating cross-platform overlap where the same interaction is recorded by multiple sources.
3. **Apply each selected attribution model to the data**: Run every requested model against the unified conversion path dataset. First-touch: assign 100% of conversion value to the first recorded touchpoint in each journey. Last-touch: assign 100% to the final touchpoint before conversion. Linear: divide conversion value equally among all touchpoints (n touchpoints each receive 1/n credit). Time-decay: apply exponential decay from conversion backward with the configured half-life — a touchpoint at one half-life distance receives 50% of the credit of the converting touchpoint, two half-lives receives 25%, and so on, then normalize to 100%. Position-based: assign 40% to first, 40% to last, distribute remaining 20% equally across middle touchpoints. Data-driven: analyze conversion path patterns to identify which channel sequences have statistically higher conversion rates, then allocate credit proportional to each channel's incremental contribution.
4. **Calculate per-channel revenue attribution under each model**: For every channel and every model, compute: total attributed revenue (sum of credited conversion values), number of attributed conversions (fractional — a conversion credited 40% counts as 0.4), cost per attributed conversion (channel spend divided by attributed conversions), and attributed ROAS (attributed revenue divided by channel spend). Present as a matrix with channels as rows and models as columns for direct comparison.
5. **Compare models and identify attribution shifts**: Calculate how each channel's credit changes across models. Channels that receive significantly more credit under first-touch than last-touch are awareness drivers — they initiate journeys but don't close them. Channels that receive more credit under last-touch are conversion closers. Channels with consistent credit across models are reliable full-funnel performers. Quantify the shift as percentage change in attributed revenue from first-touch to last-touch for each channel.
6. **Generate budget reallocation recommendations**: Based on the model comparison, identify undervalued channels — those receiving minimal last-touch credit but significant first-touch or linear credit, indicating they drive awareness and assist conversions but are penalized by default last-click reporting. Recommend budget increases for undervalued channels and provide projected impact estimates. Identify overvalued channels — those receiving inflated last-touch credit relative to their first-touch contribution — and recommend efficiency investigation rather than blind budget cuts, since they may still be essential closers.
7. **Calculate assisted conversions ratio**: For each channel, compute the assisted-to-last-touch ratio — the number of conversions where the channel appeared in the path but was not the last touch, divided by the number where it was the last touch. Channels with ratios above 1.0 assist more than they close (awareness and consideration drivers). Channels below 1.0 close more than they assist (conversion closers). This ratio is a model-independent signal of channel role in the funnel.
8. **Save attribution data for trend tracking**: Store the attribution analysis results — model outputs, channel scores, assisted conversion ratios, and budget recommendations — for longitudinal comparison. Track how channel contribution evolves over time as marketing mix changes, enabling detection of channel saturation, diminishing returns, or emerging high-value touchpoints.

## Output

A structured attribution analysis containing:

- **Attribution model comparison table**: Channel-by-model matrix showing attributed revenue, attributed conversions, cost per attributed conversion, and attributed ROAS for each channel under each model — enabling direct visual comparison of how credit shifts across methodologies
- **Channel contribution shifts across models**: Per-channel analysis showing how attributed revenue changes from first-touch to last-touch and across intermediate models — with percentage shift, directional indicator (awareness driver, conversion closer, full-funnel performer), and confidence level based on conversion path volume
- **Assisted conversions analysis**: Assisted-to-last-touch ratio for each channel with interpretation — channels categorized as awareness initiators (ratio > 2.0), consideration nurturers (1.0-2.0), balanced contributors (0.5-1.0), or conversion closers (< 0.5), with conversion volume backing each classification
- **Budget reallocation recommendations**: Specific, actionable budget shift suggestions — channels to increase investment in (with projected incremental conversions and revenue), channels to investigate for efficiency (with diminishing returns indicators), and channels to test reducing (with risk assessment and recommended reduction percentage)
- **Path length analysis**: Distribution of touchpoints per conversion — average path length, median, and breakdown by conversion type showing what percentage of conversions involve 1, 2-3, 4-6, or 7+ touchpoints, with revenue per path length segment
- **Time-to-conversion analysis**: Distribution of time from first touchpoint to conversion — average, median, and percentile breakdown showing what percentage of conversions happen within 1 day, 1-7 days, 7-14 days, 14-30 days, and 30+ days, with revenue per time segment
- **Under/overvalued channels identification**: Ranked list of channels by attribution gap — the difference between last-touch attributed revenue and linear or position-based attributed revenue — highlighting channels where default reporting significantly misrepresents true contribution
- **Methodology notes and limitations**: Transparent documentation of data sources used, conversion path coverage (what percentage of conversions had full path data vs. single-touch), cross-device limitations, view-through attribution inclusion, and any data gaps that may affect model accuracy

## Agents Used

- **analytics-analyst** — Conversion path data gathering from Google Analytics, Google Ads, and Meta MCPs, multi-touch attribution model execution across all selected methodologies, per-channel revenue attribution calculation with cost efficiency metrics, model comparison analysis identifying awareness drivers and conversion closers, assisted conversion ratio computation, path length and time-to-conversion distribution analysis, and data quality assessment with coverage and confidence reporting
- **marketing-strategist** — Strategic interpretation of attribution shifts connecting model outputs to marketing strategy implications, budget reallocation recommendations with projected impact and risk assessment, channel role classification within the marketing funnel based on attribution patterns, and investment prioritization guidance balancing short-term conversion efficiency with long-term brand and awareness building
